---
import Layout from '../layouts/Layout.astro';
import Head from '../components/layout/Head.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import { sanity } from '../lib/sanity';
import { urlFor } from '../lib/sanity';
import { createPageUrl } from '../lib/utils';
import CTAButtons from '../components/common/CTAButtons';
import { DEFAULT_CASE_STUDIES, DEFAULT_INDUSTRIES, type CaseStudy, type Industry } from '../lib/defaultContent';

const teamMember = sanity ? await sanity.fetch(`*[_type == "teamMember"][0]`).catch(() => null) : null;
const testimonials = sanity ? await sanity.fetch(`*[_type == "testimonial" && featured == true] | order(_createdAt desc)[0...6]`).catch(() => []) : [];
const caseStudies = sanity ? await sanity.fetch(`*[_type == "caseStudy"] | order(_createdAt desc)[0...3]{ title, category, description, "result": results[0] }`).catch(() => []) : [];
const industriesData = sanity ? await sanity.fetch(`*[_type == "industryServed"] | order(order asc)`).catch(() => []) : [];
const orgValues = sanity ? await sanity.fetch(`*[_type == "organizationValues"][0]{ mission, vision, values }`).catch(() => null) : null;
const thrivingPillars = sanity ? await sanity.fetch(`*[_type == "thrivingPillar"] | order(order asc){ order, title, description, icon, color }`).catch(() => []) : [];
const corePhilosophyData = sanity ? await sanity.fetch(`*[_type == "corePhilosophy"][0]{ sectionLabel, heading, description, principles, statValue, statLabel, statDescription }`).catch(() => null) : null;
const heroAbout = sanity ? await sanity.fetch(`*[_type == "hero" && page == "about"][0]{ heading, subheading }`).catch(() => null) : null;

const displayCaseStudies: CaseStudy[] = caseStudies.length > 0 ? caseStudies : DEFAULT_CASE_STUDIES;
const industries: Industry[] = industriesData.length > 0 ? industriesData : DEFAULT_INDUSTRIES;

const defaultOrgValues = {
  mission: { heading: 'Our Mission', text: 'To transform how individuals and organizations approach excellence by making intentional practice the foundation of all achievement.', iconColor: 'from-blue-500 to-blue-600' },
  vision: { heading: 'Our Vision', text: 'A world where every person and organization understands what they\'re practicing and deliberately builds patterns that lead to repeatable excellence.', iconColor: 'from-purple-500 to-purple-600' },
  values: { heading: 'Our Values', text: 'Intentionality over activity. Practice over perfection. Progress over comfort. Growth through deliberate action.', iconColor: 'from-amber-500 to-amber-600' },
};
const defaultPillars = [
  { title: 'Repeatable', description: "Systems that work consistently, day after day. Build processes that don't depend on luck or circumstance.", color: 'from-blue-400 to-blue-500', icon: 'M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15' },
  { title: 'Reliable', description: 'Dependable results every time. Create behaviors your team and clients can count on without question.', color: 'from-emerald-400 to-emerald-500', icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z' },
  { title: 'Scalable', description: 'Growth that maintains quality. Expand your impact without sacrificing the excellence that got you here.', color: 'from-amber-400 to-amber-500', icon: 'M13 7h8m0 0v8m0-8l-8 8-4-4-6 6' },
];
const pillarsToShow = thrivingPillars.length > 0 ? thrivingPillars : defaultPillars;
const defaultPrinciples = [
  { title: 'Practice Creates Patterns', description: 'Repeated actions become automatic behaviors that shape your outcomes.', color: 'blue' },
  { title: 'Patterns Drive Results', description: 'Your consistent behaviors determine your consistent outcomes.', color: 'purple' },
  { title: 'Intentionality Transforms', description: 'Awareness of your practice is the first step to changing it.', color: 'amber' },
];
const philosophySectionLabel = corePhilosophyData?.sectionLabel ?? 'Core Philosophy';
const philosophyHeading = corePhilosophyData?.heading ?? 'You Are Always Practicing';
const philosophyDescription = corePhilosophyData?.description ?? "Every action you take reinforces a pattern. Every decision builds a habit. The question isn't whether you're practicing—it's whether you're practicing what you want to become.";
const philosophyPrinciples = (corePhilosophyData?.principles?.length ? corePhilosophyData.principles : defaultPrinciples) as { title: string; description?: string; color?: string }[];
const philosophyStatValue = corePhilosophyData?.statValue ?? '93%';
const philosophyStatLabel = corePhilosophyData?.statLabel ?? 'of behavior is driven by unconscious patterns';
const philosophyStatDescription = corePhilosophyData?.statDescription ?? "Most of what we do happens on autopilot. LEAP helps you bring awareness to these patterns so you can intentionally build the behaviors that lead to the outcomes you want.";
---

<Layout>
  <Head slot="head" title="About LEAP Association" description="Learn about LEAP Association and our mission to transform leaders through intentional practice." />
  <Header />
  <main id="main-content" class="min-h-screen bg-gradient-to-br from-slate-50 to-white">
    <!-- Hero Section -->
    <section class="pt-32 pb-20 px-6 lg:px-8 relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5" />
      <div class="max-w-6xl mx-auto relative z-10">
        <a
          href={createPageUrl('Home')}
          class="inline-flex items-center gap-2 text-slate-500 hover:text-slate-700 mb-8 transition-colors"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          Back to Home
        </a>

        <div class="text-center">
          <span class="animate-fadeUp text-primary font-semibold text-sm tracking-wider uppercase mb-4 block">
            About LEAP Association
          </span>
          <h1 class="animate-fadeUp text-4xl lg:text-6xl font-bold text-primary mb-6" style="animation-delay: 0.1s;">
            {heroAbout?.heading ?? 'Excellence Through Intentional Practice'}
          </h1>
          <p class="animate-fadeUp text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed" style="animation-delay: 0.2s;">
            {heroAbout?.subheading ?? "We help leaders and organizations build repeatable, reliable, scalable behaviors that create lasting excellence, not through theory, but through practice."}
          </p>
        </div>
      </div>
    </section>

    <!-- Mission, Vision, Values -->
    <section class="py-20 px-6 lg:px-8">
      <div class="max-w-6xl mx-auto">
        <div class="grid md:grid-cols-3 gap-8">
          <div class="reveal stagger-1 bg-white rounded-3xl p-8 shadow-lg border border-slate-100 hover:shadow-xl transition-shadow">
            <div class:list={["w-16 h-16 rounded-2xl bg-gradient-to-br flex items-center justify-center mb-6 shadow-lg", defaultOrgValues.mission.iconColor]}>
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-primary mb-4">{defaultOrgValues.mission.heading}</h3>
            <p class="text-slate-600 leading-relaxed">
              {orgValues?.mission ?? defaultOrgValues.mission.text}
            </p>
          </div>

          <div class="reveal stagger-2 bg-white rounded-3xl p-8 shadow-lg border border-slate-100 hover:shadow-xl transition-shadow">
            <div class:list={["w-16 h-16 rounded-2xl bg-gradient-to-br flex items-center justify-center mb-6 shadow-lg", defaultOrgValues.vision.iconColor]}>
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-primary mb-4">{defaultOrgValues.vision.heading}</h3>
            <p class="text-slate-600 leading-relaxed">
              {orgValues?.vision ?? defaultOrgValues.vision.text}
            </p>
          </div>

          <div class="reveal stagger-3 bg-white rounded-3xl p-8 shadow-lg border border-slate-100 hover:shadow-xl transition-shadow">
            <div class:list={["w-16 h-16 rounded-2xl bg-gradient-to-br flex items-center justify-center mb-6 shadow-lg", defaultOrgValues.values.iconColor]}>
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-primary mb-4">{defaultOrgValues.values.heading}</h3>
            <p class="text-slate-600 leading-relaxed">
              {orgValues?.values ?? defaultOrgValues.values.text}
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- The Thriving Framework -->
    <section class="py-20 px-6 lg:px-8 bg-gradient-to-br from-primary to-primary-dark">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <span class="text-accent font-semibold text-sm tracking-wider uppercase mb-4 block">
            The Foundation
          </span>
          <h2 class="text-3xl lg:text-4xl font-bold text-white mb-6">
            The Thriving Framework
          </h2>
          <p class="text-xl text-slate-200 max-w-3xl mx-auto">
            Three pillars that transform good intentions into consistent excellence
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
          {pillarsToShow.map((pillar: { title: string; description: string; color?: string; icon?: string }, i: number) => (
            <div class={`reveal stagger-${i + 1} bg-white/10 backdrop-blur-sm border border-white/20 rounded-3xl p-8 text-center hover:bg-white/15 transition-colors`}>
              <div class={`w-20 h-20 rounded-full bg-gradient-to-br ${pillar.color || 'from-primary to-primary-dark'} flex items-center justify-center mx-auto mb-6 shadow-lg`}>
                {pillar.icon ? (
                  <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={pillar.icon} />
                  </svg>
                ) : (
                  <span class="text-2xl font-bold text-white">{pillar.title[0]}</span>
                )}
              </div>
              <h3 class="text-2xl font-bold text-white mb-4">{pillar.title}</h3>
              <p class="text-slate-200 leading-relaxed">
                {pillar.description}
              </p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Practice Philosophy -->
    <section class="py-20 px-6 lg:px-8">
      <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div class="reveal-left">
            <span class="text-primary font-semibold text-sm tracking-wider uppercase mb-4 block">
              {philosophySectionLabel}
            </span>
            <h2 class="text-3xl lg:text-4xl font-bold text-primary mb-6">
              {philosophyHeading}
            </h2>
            <p class="text-lg text-slate-600 mb-6 leading-relaxed">
              {philosophyDescription}
            </p>
            <div class="space-y-4">
              {philosophyPrinciples.map((principle: { title: string; description?: string; color?: string }) => {
                const bgClass = principle.color === 'blue' ? 'bg-blue-100' : principle.color === 'purple' ? 'bg-purple-100' : principle.color === 'amber' ? 'bg-amber-100' : 'bg-primary/10';
                const textClass = principle.color === 'blue' ? 'text-blue-600' : principle.color === 'purple' ? 'text-purple-600' : principle.color === 'amber' ? 'text-amber-600' : 'text-primary';
                return (
                  <div class="flex items-start gap-4">
                    <div class={`w-8 h-8 rounded-full ${bgClass} flex items-center justify-center flex-shrink-0 mt-1`}>
                      <svg class={`w-4 h-4 ${textClass}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                      </svg>
                    </div>
                    <div>
                      <h4 class="font-semibold text-primary mb-1">{principle.title}</h4>
                      {principle.description && <p class="text-slate-600">{principle.description}</p>}
                    </div>
                  </div>
                );
              })}
            </div>
          </div>

          <div class="reveal-right bg-gradient-to-br from-slate-50 to-slate-100 rounded-3xl p-8 lg:p-12">
            <div class="text-center">
              <div class="text-6xl sm:text-7xl lg:text-8xl xl:text-9xl font-bold gradient-text mb-4">{philosophyStatValue}</div>
              <p class="text-xl text-slate-700 font-medium mb-4">
                {philosophyStatLabel}
              </p>
              <p class="text-slate-600 leading-relaxed">
                {philosophyStatDescription}
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About Coach Aaron -->
    <section class="py-20 px-6 lg:px-8 bg-slate-50">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <span class="text-primary font-semibold text-sm tracking-wider uppercase mb-4 block">
            Leadership
          </span>
          <h2 class="text-3xl lg:text-4xl font-bold text-primary mb-6">
            Meet Coach Aaron
          </h2>
          <p class="text-xl text-slate-600 max-w-3xl mx-auto">
            From NASA mission control to executive coaching, building excellence through practice
          </p>
        </div>

        <div class="grid lg:grid-cols-2 gap-12 items-center">
          {teamMember?.image ? (
            <div class="bg-white rounded-3xl shadow-xl p-8">
              <div class="w-full h-96 rounded-2xl mb-6 overflow-hidden bg-slate-100">
                <img
                  src={urlFor(teamMember.image)?.width(600).height(800).url()}
                  alt={teamMember.name}
                  class="w-full h-full object-contain"
                />
              </div>
              <h3 class="text-2xl font-bold text-primary mb-2">{teamMember.name}</h3>
              <p class="text-accent font-semibold mb-2">{teamMember.title}</p>
              <p class="text-slate-500 text-sm">BS, RCC | 20+ Years in Leadership Development</p>
            </div>
          ) : (
            <div class="bg-white rounded-3xl shadow-xl p-8">
              <div class="w-full h-96 rounded-2xl mb-6 overflow-hidden bg-gradient-to-br from-primary/10 to-primary/5">
                <img
                  src="./images/aaron-wright.webp"
                  alt="Aaron Wright Jr. - Leadership Coach"
                  class="w-full h-full object-cover object-top"
                />
              </div>
              <h3 class="text-2xl font-bold text-primary mb-2">Aaron Wright Jr.</h3>
              <p class="text-accent font-semibold mb-2">Executive Director</p>
              <p class="text-slate-500 text-sm">BS, RCC | 20+ Years in Leadership Development</p>
            </div>
          )}

          <div class="space-y-6">
            {teamMember?.bio ? (
              <p class="text-slate-600 leading-relaxed whitespace-pre-line">
                {teamMember.bio}
              </p>
            ) : (
              <>
                <p class="text-slate-600 leading-relaxed">
                  Aaron Wright Jr. brings over two decades of experience in human resources development,
                  organizational leadership, and executive coaching. His unique background includes work
                  with NASA, where he learned firsthand how intentional practice and precise execution
                  create world-class results.
                </p>
                <p class="text-slate-600 leading-relaxed">
                  As Executive Director of LEAP Association, Aaron has helped transform over 750
                  organizations and trained more than 10,000 leaders across 25+ industries. His approach
                  combines research-backed methodology with practical application, ensuring that every
                  concept translates into actionable change.
                </p>
              </>
            )}

            <div class="bg-white rounded-2xl p-6 border border-slate-200">
              <h4 class="font-semibold text-primary mb-4">The NASA Story</h4>
              <p class="text-slate-600 text-sm leading-relaxed">
                "At NASA, I learned that excellence isn't about talent—it's about practice. Every astronaut,
                every engineer, every team member practiced their role until perfection became automatic.
                That's the principle LEAP is built on: intentional, deliberate practice that transforms
                potential into performance."
              </p>
            </div>

            <div class="flex flex-wrap gap-3">
              <span class="px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">Executive Coaching</span>
              <span class="px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-medium">Leadership Development</span>
              <span class="px-4 py-2 bg-amber-100 text-amber-700 rounded-full text-sm font-medium">Organizational Transformation</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Trusted by Industry Leaders -->
    <section class="py-20 px-6 lg:px-8">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <span class="text-primary font-semibold text-sm tracking-wider uppercase mb-4 block">
            Our Impact
          </span>
          <h2 class="text-3xl lg:text-4xl font-bold text-primary mb-6">
            Trusted by Industry Leaders
          </h2>
          <div class="flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 mb-6">
            <span class="text-4xl sm:text-5xl lg:text-6xl font-bold gradient-text">750+</span>
            <span class="text-lg sm:text-xl text-slate-600">Organizations Served</span>
          </div>
        </div>

        <!-- Industry Icons Grid -->
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 mb-16">
          {industries.map((industry) => (
            <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 text-center hover:shadow-lg transition-shadow">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center mx-auto mb-4">
                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={industry.icon} />
                </svg>
              </div>
              <p class="text-2xl font-bold text-primary mb-1">{industry.count}</p>
              <p class="text-sm text-slate-600">{industry.name}</p>
            </div>
          ))}
        </div>

        <!-- Case Studies -->
        <div class="grid md:grid-cols-3 gap-8">
          {displayCaseStudies.map((study: any) => (
            <div class="bg-white rounded-2xl overflow-hidden shadow-lg border border-slate-100 hover:shadow-xl transition-shadow">
              <div class="h-3 bg-gradient-to-r from-primary to-accent" />
              <div class="p-6">
                <span class="inline-block px-3 py-1 bg-primary/10 text-primary text-xs font-semibold rounded-full mb-4">
                  {study.category}
                </span>
                <h3 class="text-xl font-bold text-primary mb-3">{study.title}</h3>
                <p class="text-slate-600 text-sm mb-4 leading-relaxed">{study.description}</p>
                <div class="pt-4 border-t border-slate-100">
                  <p class="text-sm font-semibold text-emerald-600">{study.result}</p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Testimonials -->
    {testimonials.length > 0 && (
      <section class="py-20 px-6 lg:px-8 bg-slate-50">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-16">
            <span class="text-primary font-semibold text-sm tracking-wider uppercase mb-4 block">
              Success Stories
            </span>
            <h2 class="text-3xl lg:text-4xl font-bold text-primary mb-6">
              What Our Clients Say
            </h2>
            <div class="flex items-center justify-center gap-4">
              <div class="flex items-center gap-1">
                {[1, 2, 3, 4, 5].map((star) => (
                  <svg class="w-6 h-6 text-amber-400 fill-current" viewBox="0 0 24 24">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                  </svg>
                ))}
              </div>
              <span class="text-2xl font-bold text-primary">4.9/5.0</span>
              <span class="text-slate-600">from 500+ reviews</span>
            </div>
          </div>

          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            {testimonials.map((testimonial: any) => (
              <div class="bg-white rounded-2xl p-6 shadow-lg border border-slate-100">
                <div class="flex items-center gap-1 mb-4">
                  {[1, 2, 3, 4, 5].map(() => (
                    <svg class="w-4 h-4 text-amber-400 fill-current" viewBox="0 0 24 24">
                      <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                    </svg>
                  ))}
                </div>
                <p class="text-slate-600 mb-6 leading-relaxed">"{testimonial.content}"</p>
                {testimonial.impact && (
                  <p class="text-sm font-semibold text-emerald-600 mb-4">{testimonial.impact}</p>
                )}
                <div class="flex items-center gap-4 pt-4 border-t border-slate-100">
                  {testimonial.image ? (
                    <img
                      src={urlFor(testimonial.image)?.width(80).height(80).url()}
                      alt={testimonial.name}
                      class="w-12 h-12 rounded-full object-cover"
                    />
                  ) : (
                    <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center">
                      <span class="text-primary font-bold">{testimonial.name?.[0]}</span>
                    </div>
                  )}
                  <div>
                    <p class="font-semibold text-primary">{testimonial.name}</p>
                    <p class="text-sm text-slate-500">{testimonial.role}{testimonial.company && `, ${testimonial.company}`}</p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>
    )}

    <!-- CTA Section -->
    <section class="py-20 px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="bg-gradient-to-br from-primary to-primary-dark rounded-3xl p-6 sm:p-10 lg:p-12 text-center text-white relative overflow-hidden">
          <div class="absolute -top-10 -right-10 w-64 h-64 bg-white/10 rounded-full blur-3xl" />
          <div class="absolute -bottom-10 -left-10 w-80 h-80 bg-accent/10 rounded-full blur-3xl" />

          <div class="relative z-10">
            <h2 class="text-3xl lg:text-4xl font-bold mb-6">
              Ready to Transform Your Practice?
            </h2>
            <p class="text-xl text-slate-200 mb-8 max-w-2xl mx-auto">
              Discover what you're practicing and build the patterns that create excellence.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
              <CTAButtons client:load />
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>

